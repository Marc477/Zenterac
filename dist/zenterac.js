/*! zenterac 1.0.0 06-04-2017 */
if(ZUtils)throw"ZUtils is already defined, conflicts may occurs";if(Zenterac)throw"Zenterac is already defined, conflicts may occurs";var ZUtils={},Zenterac={};if(Zenterac.debug=!1,Zenterac.version="1.04",Zenterac.server="//api.zenterac.com",Zenterac.create=function(a,b){if(b&&"string"!=typeof a)throw"First parameter of Zenterac.create must be a user name (string)";if(b&&"string"!=typeof b&&"object"!=typeof b)throw"Second parameter of Zenterac.create must be a string or div";if(!b&&"string"!=typeof a&&"object"!=typeof a)throw"First parameter of Zenterac.create must be a string or div";var c=b||a,d=b?a:null,e=null;if(e="string"==typeof c?document.getElementById(c):c,!e||"DIV"!==e.tagName)throw"Cannot find div "+c+" in document";var f=new Zenterac.VideoPlayer(e);return f.useCustomServer=null===d,f.user=d||"default",f},Zenterac.lastLog="",Zenterac.log=function(){Zenterac.debug&&console.log.apply(console,arguments),Zenterac.lastLog="";for(var a=0;a<arguments.length;a++)Zenterac.lastLog+=arguments[a]},Zenterac.GetLastLog=function(){return Zenterac.lastLog},Zenterac.protocol="",function(){var a=window.location.href.split("/")[0];"file:"===a&&(Zenterac.protocol="http:",Zenterac.server=Zenterac.protocol+Zenterac.server)}(),ZUtils.Ajax=function(a,b){if(a){var c=(new Date).getTime(),d="&_="+c;a+=d,new ZUtils.microAjax(a,function(a,c){"function"==typeof b&&b(a,c)})}},ZUtils.AjaxPost=function(a,b,c){if(a){var d=(new Date).getTime(),e="&_="+d;a+=e,new ZUtils.microAjax(a,function(a,b){"function"==typeof c&&c(a,b)},b)}},ZUtils.Post=function(a,b,c){var d=document.createElement("form");d.method="POST",d.action=a,d.target=c||"_top";for(var e in b){var f=document.createElement("input");f.name=e,f.value=b[e],d.appendChild(f)}d.submit()},ZUtils.SerializePost=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},ZUtils.Browser={},ZUtils.Browser.GoFullScreen=function(a){var b=a.requestFullScreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen;b&&b.call(a)},ZUtils.Browser.ExitFullScreen=function(){var a=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen;a&&a.call(document)},ZUtils.Browser.IsFullScreenSupported=function(){var a=document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled;return a?!0:!1},ZUtils.Browser.FullScreenChange=function(a){var b="fullscreenElement",c="fullscreenchange";document.fullscreenEnabled?(b="fullscreenElement",c="fullscreenchange"):document.mozFullScreenEnabled?(b="mozFullScreenElement",c="mozfullscreenchange"):document.msFullscreenEnabled?(b="msFullscreenElement",c="msfullscreenchange"):document.webkitFullscreenEnabled&&(b="webkitFullscreenElement",c="webkitfullscreenchange"),document.addEventListener(c,function(){a(document[b])});var d="onorientationchange"in window,e=d?"orientationchange":"resize";window.addEventListener(e,function(){a(document[b])},!1)},ZUtils.Browser.VisiblityChange=function(a){var b="hidden",c="visibilitychange";"undefined"!=typeof document.hidden?(b="hidden",c="visibilitychange"):"undefined"!=typeof document.mozHidden?(b="mozHidden",c="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(b="msHidden",c="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(b="webkitHidden",c="webkitvisibilitychange"),document.addEventListener(c,function(){a(document[b])})},ZUtils.Browser.IsMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},ZUtils.Browser.IsIOS=function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},ZUtils.Browser.IsIPhone=function(){return/iPhone|iPod/i.test(navigator.userAgent)},ZUtils.Browser.Get=function(){var a=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,b="undefined"!=typeof InstallTrigger,c=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,d=!!window.chrome&&!a,e=!1||!!document.documentMode;return a?"opera":b?"firefox":c?"safari":d?"chrome":e?"ie":void 0},ZUtils.Browser.GetOS=function(){var a="unknown";return ZUtils.Browser.IsMobile()?(/BlackBerry/i.test(navigator.userAgent)&&(a="blackberry"),/IEMobile/i.test(navigator.userAgent)&&(a="win-mobile"),/Android/i.test(navigator.userAgent)&&(a="android"),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&(a="ios")):(-1!==navigator.appVersion.indexOf("X11")&&(a="unix"),-1!==navigator.appVersion.indexOf("Linux")&&(a="linux"),-1!==navigator.appVersion.indexOf("Win")&&(a="windows"),-1!==navigator.appVersion.indexOf("Mac")&&(a="mac")),a},ZUtils.Browser.HasMSE=function(a){if(window.MediaSource){var b="";return MediaSource.isTypeSupported('video/webm; codecs="vorbis,vp8"')&&(b+="webm-"),MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')&&(b+="mp4-"),MediaSource.isTypeSupported('video/mp2t; codecs="avc1.42E01E,mp4a.40.2"')&&(b+="ts-"),b.length>0?(b=b.substring(0,b.length-1),a?-1!==b.indexOf(a)?!0:!1:b):!1}return!1},ZUtils.Browser.HasHLS=function(){return!!document.createElement("video").canPlayType("application/vnd.apple.mpegURL")},ZUtils.Browser.HasFlash=function(){var a=!1;try{a=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(b){a="undefined"!=typeof navigator.mimeTypes["application/x-shockwave-flash"]}return a},ZUtils.Browser.IsOGVJS=function(){return"ogv"===ZUtils.Browser.GetBestTech()},ZUtils.Browser.GetBestTech=function(){var a=ZUtils.Browser.GetOS(),b=ZUtils.Browser.HasMSE(),c=(ZUtils.Browser.HasFlash(),ZUtils.Browser.HasHLS()),d="html5";return c?d="hls":b&&-1!==b.indexOf("mp4")&&(d="dash"),"android"===a&&(d="html5"),d="html5",ZUtils.Browser.IsIPhone()&&(d="ogv"),d},ZUtils.Browser.IsAPISupported=function(){return ZUtils.Browser.IsHTML5Supported()?!0:!1},ZUtils.Browser.IsHTML5Supported=function(){var a=!1,b=document.createElement("video");return b.canPlayType&&b.canPlayType("video/mp4").replace(/no/,"")&&(a=!0),a},ZUtils.IsEnum=function(a,b){for(var c in b)if(b[c]===a)return!0;return!1},ZUtils.Event=function(a){this.name=a,this.callbacks=[],ZUtils.Event.list.push(this),this.addListener=function(a){"function"==typeof a&&this.callbacks.push(a)},this.fire=function(){for(var a=0;a<this.callbacks.length;a++)this.callbacks[a].apply(this,arguments)}},ZUtils.Event.list=[],ZUtils.Event.find=function(a){for(var b=0;b<ZUtils.Event.list.length;b++){var c=ZUtils.Event.list[b];if(c.name===a)return c}return null},ZUtils.IDList=[],ZUtils.GenUID=function(a){function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}if(isNaN(a)||0>a)throw"Length must be a number";for(var c=Math.min(a,100),d=null;!d||-1!==ZUtils.IDList.indexOf(d);)d=(b()+b()+b()+b()+b()+b()+b()).substring(0,c);return ZUtils.IDList.push(d),d},ZUtils.microAjax=function(a,b){if(this.bindFunction=function(a,b){return function(){return a.apply(b,[b])}},this.stateChange=function(){4===this.request.readyState&&this.callbackFunction(this.request.responseText,this.request.status)},this.getRequest=function(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest?new XMLHttpRequest:!1},this.postBody=arguments[2]||"",this.callbackFunction=b,this.url=a,this.request=this.getRequest(),this.request){var c=this.request;c.onreadystatechange=this.bindFunction(this.stateChange,this),""!==this.postBody?c.open("POST",a,!0):c.open("GET",a,!0),c.send(this.postBody)}},ZUtils.show=function(a){a&&(a.style.display="block")},ZUtils.hide=function(a){a&&(a.style.display="none")},ZUtils.isNumber=function(a){return"number"!=typeof a||isNaN(a)?"string"==typeof a&&a&&!isNaN(a)?!0:!1:!0},ZUtils.Shuffle=function(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a},ZUtils.GetAnchor=function(){var a=window.location.hash.substring(1);return a},ZUtils.GetQuery=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))},ZUtils.MeasureConnectionSpeed=function(a,b,c){var d,e,f=new Image;f.onload=function(){e=(new Date).getTime();{var a=(e-d)/1e3,f=8*b,g=(f/a).toFixed(2),h=(g/1024).toFixed(2);(h/1024).toFixed(2)}c(h)},f.onerror=function(){throw"Invalid image, or error downloading"},d=(new Date).getTime();var g="&_="+d;f.src=a+g},ZUtils.Timer={Start:function(){return(new Date).getTime()},Get:function(a,b){var c=isNaN(b)?3:b,d=((new Date).getTime()-a).toFixed(c);return d}},Zenterac.InteractiveEngine=function(a){this.player=a,this.CreateSession=function(){},this.ReuseSession=function(){},this.TestSession=function(){},this.GetFallbackUrl=function(){},this.UploadPlaylist=function(){},this.PreprocessVideo=function(){},this.PreloadVideo=function(){},this.UpdateClientInfo=function(){},this.GetVideoInfo=function(){},this.GetVideoUrl=function(){}},Zenterac.ClientEngine=function(a){Zenterac.InteractiveEngine.call(this,a),this.sessionList={},this.session=null;var b=this;try{var c=JSON.parse(localStorage.Zenterac_SessionList);"object"==typeof c&&(b.sessionList=c)}catch(d){}var e=function(a,c){var d=c.list,e=c.addMode,f=c.playOrder,g=b.session.cInfo.cur;return"random"===f&&ZUtils.Shuffle(d),a[g]&&"loop"===a[g].playMode&&g+2===a.length&&a[g]===a[g+1]&&(a=a.slice(0,g+1),a[g].playMode="all"),"append"===e&&(a=a.concat(d)),"insert"===e&&a.splice.apply(a,[g+1,0].concat(d)),"replace"===e&&(a=a.slice(0,g+1).concat(d)),"new"===e&&(a=d),a},f=function(a,c){var d=b.session.seen;if(c<a.length){var e=d.slice(),f=a.slice(c);a=a.slice(0,c);for(var g=0;g<a.length;g++)-1===e.indexOf(a[g].id)&&e.push(a[g].id);for(var h=0;h<f.length;h++){var i=f[h];("all"===i.playMode||"loop"===i.playMode)&&a.push(i),"seen"===i.playMode&&-1!==e.indexOf(i.id)&&a.push(i),"unseen"===i.playMode&&-1===e.indexOf(i.id)&&a.push(i)}}return a},g=function(a,b){var c=a.length>0&&"loop"===a[a.length-1].playMode;if(c&&b>=a.length){var d=a[a.length-1];a.push(d)}return a};this.CreateSession=function(a,b,c){var d=Object.keys(this.sessionList).length,e=new Zenterac.Session(a,"token-"+d,"localhost");e.videos={},e.cInfo={},e.playlist=[],e.seen=[],e.version=b,this.sessionList[e.token]=e,this.session=e,localStorage.Zenterac_SessionList=JSON.stringify(this.sessionList),c(e)},this.ReuseSession=function(b,c){var d=this.sessionList[b.token];d?c(b):this.CreateSession(a.user,function(a){c(a)})},this.TestSession=function(a,b){var c=this.sessionList[a.token]?!0:!1;b(c)},this.GetFallbackUrl=function(a){var b="object"==typeof a?a.url:a;return b},this.UploadPlaylist=function(a,c){this.session.playlist=e(this.session.playlist,a),this.session.playlist=f(this.session.playlist,b.session.cur+1);for(var d=0;d<a.list.length;d++){var g=a.list[d];g.playMode=g.playMode||a.playMode||Zenterac.PlayMode.ALL,this.session.videos[g.getName()]=g}localStorage.Zenterac_SessionList=JSON.stringify(this.sessionList),c&&c(!0)},this.PreloadVideo=function(a){this.session.videos[a.getName()]=a},this.UpdateClientInfo=function(a,b){for(var c in a)"seen"===c&&-1===this.session.seen.indexOf(a[c])&&this.session.seen.push(a[c]),this.session.cInfo[c]=a[c];localStorage.Zenterac_SessionList=JSON.stringify(this.sessionList),b&&b()},this.GetVideoInfo=function(a,b){var c=this.session.videos,d=this.session.playlist,e=d.length,h=null;if(ZUtils.isNumber(a)){var i=parseInt(a);this.session.playlist=f(d,i),this.session.playlist=g(d,i),h=d[a],e>0&&"loop"===d[e-1].playMode&&(e=i+2)}else h=c[a];var j={};h&&(j.id=h.id,j.start=h.start,j.duration=h.duration,j.type=h.type,j.html=h.html,j.name=h.getName(),j.url=h.url,j.rez=0,j.listLength=e),b(j)},this.GetVideoUrl=function(a){var b=this.session.videos[a.name],c=b?b.url:"";return c=c||a.url||""},this.ClearPlaylist=function(a){var c=b.session.cInfo.cur;this.session.playlist=this.session.playlist.slice(0,c+1),a&&a(!0)}},Zenterac.ServerEngine=function(a){Zenterac.InteractiveEngine.call(this,a);var b={},c=function(a,c){b[a]=c},d=function(a){return b[a]||document.createElement("div")};this.CreateSession=function(a,b,c){ZUtils.Ajax(Zenterac.server+"/stream/?a=init&u="+a+"&v="+b,function(b,d){if(200!==d)return void c(null,b);var e=JSON.parse(b),f=e.token,g=e.hostname,h=new Zenterac.Session(a,f,g);c(h)})},this.ReuseSession=function(a,b){ZUtils.Ajax(a.getLink()+"/stream/?a=init&u="+a.user+"&s="+a.token,function(c,d){if(200!==d)return void b(null,null,null,null,c);var e=JSON.parse(c),f=e.token,g=e.hostname,h="true"===e.isNew?!0:!1,i=parseInt(e.curVideo),j=parseInt(e.listLength),k=new Zenterac.Session(a.user,f,g);b(k,h,i,j)})},this.TestSession=function(a,b){ZUtils.Ajax(a.getLink()+"/stream/?a=test&u="+a.user+"&s="+a.token,function(a){b("VALID"===a)})},this.GetFallbackUrl=function(b){var c=ZUtils.Browser.GetBestTech(),d="object"==typeof b?b.id:b;return Zenterac.server+"/stream/?a=fallback&u="+a.user+"&v="+d+"&t="+c+"&vph="+a.htmlDiv.clientHeight},this.UploadPlaylist=function(b,d){for(var e=0;e<b.list.length;e++){var f=b.at(e);"html"===f.type&&c(f.id,f.html)}var g=JSON.stringify(b);ZUtils.AjaxPost(a.session.getLink()+"/stream/?a=list&s="+a.session.token,g,function(a,b){var c=a&&200===b;d(c)})},this.PreprocessVideo=function(b){var c={v:b.id,f:b.start,d:b.duration};ZUtils.AjaxPost(a.session.getLink()+"/stream/?a=process&s="+a.session.token,JSON.stringify(c))},this.UpdateClientInfo=function(b,c){var d=JSON.stringify(b);ZUtils.AjaxPost(a.session.getLink()+"/stream/?a=cinfo&s="+a.session.token,d,function(){c&&c()})},this.GetVideoInfo=function(b,c){ZUtils.Ajax(a.session.getLink()+"/stream/?a=info&v="+b+"&s="+a.session.token,function(a){var b=JSON.parse(a),e={};e.listLength=parseInt(b.listLength),e.id=b.vid,e.start=parseInt(b.start),e.duration=parseInt(b.duration),e.name=b.name,e.playMode=b.playMode,e.type=b.type,e.url=b.url,e.rez=b.rez,e.html=d(e.id),c(e)})},this.GetVideoUrl=function(b,c){var d="",e=a.session,f=(new Date).getTime(),g="&_="+f;if(b.url)d=b.url;else switch(c){case"HTML":d=e.getLink()+"/stream/video.mp4?a=mp4&v="+b.name+"&s="+e.token;break;case"HLS":d=e.getLink()+"/stream/video.m3u8?a=hls&v="+b.name+"&s="+e.token+g;break;case"DASH":d=e.getLink()+"/stream/video.mpd?a=mpd&v="+b.name+"&s="+e.token+g;break;case"OGV":d=e.getLink()+"/stream/video.ogv?a=ogv&v="+b.name+"&s="+e.token+g}return d},this.ClearPlaylist=function(b){ZUtils.Ajax(a.session.getLink()+"/stream/?a=clear&s="+a.session.token,function(a,c){var d=a&&200===c;b(d)})}},Zenterac.AddMode={APPEND:"append",INSERT:"insert",REPLACE:"replace",NEW:"new"},Zenterac.PlayMode={NONE:"",ALL:"all",UNSEEN:"unseen",SEEN:"seen",LOOP:"loop"},Zenterac.PlayOrder={LIST:"list",RANDOM:"random"},Zenterac.VideoQuality={AUTO:0,Q240:240,Q360:360,Q480:480,Q720:720,Q1080:1080},Zenterac.Video=function(a,b,c,d){var e="object"==typeof arguments[0]?arguments[0]:"object"==typeof arguments[1]?arguments[1]:null,f=e?e.id||a:a,g=e?e.start:b,h=e?e.duration:c,i=e?e.playMode:d,j=e?e.url:"";if("string"!=typeof f)throw"Video parameter #1 must be a string";this.id=f,this.start=g||0,this.duration=h||0,this.playMode=i||Zenterac.PlayMode.NONE,this.url=j,this.type="video",this.getName=function(){return this.id+"_"+Math.floor(this.start)+"-"+Math.ceil(this.duration)}},Zenterac.Video.CreateFromName=function(a){if("string"!=typeof a)throw"Video parameter #1 must be a string";var b=null,c=a.lastIndexOf("_"),d=a.substring(0,c);if(d){var e=a.substring(c+1),f=e.lastIndexOf("-"),g=parseFloat(e.substring(0,f)),h=parseFloat(e.substring(f+1));b=new Zenterac.Video(d,g,h)}return b},Zenterac.Video.GetAnchorVideo=function(){var a=window.location.hash.substring(1);return new Zenterac.Video(a)},Zenterac.HtmlZone=function(a,b){if("string"!=typeof a)throw"HtmlZone parameter #1 must be a string";if("object"!=typeof b||"DIV"!==b.tagName)throw"HtmlZone parameter #2 must be an div element";this.id=a,this.html=b,this.type="html",this.start=0,this.end=0,this.getName=function(){return this.id}},Zenterac.Playlist=function(){this.list=[],this.addMode=Zenterac.AddMode.APPEND,this.playOrder=Zenterac.PlayOrder.LIST,this.playMode=Zenterac.PlayMode.ALL,this.add=function(a,b,c){if("string"==typeof a)this.list.push(new Zenterac.Video(a,b,c));else if(a instanceof Zenterac.Video||a instanceof Zenterac.HtmlZone)this.list.push(a);else if(a instanceof Zenterac.Playlist)for(var d=0;d<a.list.length;d++){var e=a.list[d],f=new Zenterac.Video(e.id,e.start,e.duration,e.playMode||a.playMode);f.url=e.url,this.list.push(f)}else if("object"==typeof a)for(var g in a)this[g]&&(this[g]=a[g])},this.at=function(a){return this.list[a]};for(var a=0;a<arguments.length;a++)this.add(arguments[a])},Zenterac.Playlist.prototype={get length(){return this.list.length}},Zenterac.Session=function(a,b,c){this.token=b,this.host=c,this.user=a,this.getLink=function(){return Zenterac.protocol+"//"+this.host}},Zenterac.TechPlayer=function(a){this._p={},this._p.tPlayer=null,this._p.videoTag=null,this._p.videoContainer=null,this._p.src="",this.techname="";var b=document.createElement("video");b.autoPlay=!0,b.controls=!1,b.setAttribute("webkit-playsinline",""),b.className="zen_video",b.preload="auto",b.innerHtml="Your browser does not support the video tag.",b.style.width="100%",ZUtils.Browser.IsIOS()&&(b.style.height="100%");var c=document.createElement("div");c.style.overflow="hidden",c.style.height="0",this._p.videoTag=b,this._p.videoContainer=c,a.appendChild(c),c.appendChild(b),this.play=function(){this._p.videoTag.play()},this.pause=function(){this._p.videoTag.pause()},this.show=function(){this._p.videoContainer.style.height="100%"},this.hide=function(){this._p.videoContainer.style.height="0"},this.hidden=function(){return"0"===this._p.videoContainer.style.height||"0px"===this._p.videoContainer.style.height||"0%"===this._p.videoContainer.style.height},this.unlock=function(){this._p.videoTag.play()},this.clear=function(){this._p.src="",this._p.videoTag.src=""},this.loadVideo=function(){},this.__defineSetter__("oncanplay",function(a){this._p.videoTag.addEventListener("canplay",a)}),this.__defineSetter__("ondurationchange",function(a){this._p.videoTag.addEventListener("durationchange",a)}),this.__defineSetter__("ontimeupdate",function(a){this._p.videoTag.addEventListener("timeupdate",a)}),this.__defineSetter__("onended",function(a){this._p.videoTag.addEventListener("ended",a)}),this.__defineSetter__("onplaying",function(a){this._p.videoTag.addEventListener("playing",a)}),this.__defineSetter__("onwaiting",function(a){this._p.videoTag.addEventListener("waiting",a)}),this.__defineSetter__("currentTime",function(a){this._p.videoTag.currentTime=a}),this.__defineSetter__("volume",function(a){this._p.videoTag.volume=a}),this.__defineGetter__("id",function(){return this._p.videoTag.id}),this.__defineGetter__("paused",function(){return this._p.videoTag.paused}),this.__defineGetter__("currentTime",function(){return this._p.videoTag.currentTime}),this.__defineGetter__("duration",function(){return this._p.videoTag.duration}),this.__defineGetter__("volume",function(){return this._p.videoTag.volume})},Zenterac.TechPlayer.Create=function(a){var b=ZUtils.Browser.GetBestTech();switch(b){case"dash":return new Zenterac.TechPlayerDash(a);case"hls":return new Zenterac.TechPlayerHLS(a);case"flash":return new Zenterac.TechPlayerFlash(a);case"ogv":return new Zenterac.TechPlayerOGV(a);default:return new Zenterac.TechPlayerHTML(a)}},Zenterac.TechPlayerHTML=function(a){Zenterac.TechPlayer.call(this,a),this.techname="HTML",this.loadVideo=function(a){this._p.src=a,this._p.videoTag.src=this._p.src,this._p.videoTag.play()}},Zenterac.TechPlayerOGV=function(a){Zenterac.TechPlayer.call(this,a),this.techname="OGV";var b=this,c=new OGVPlayer;c.style.top="0%",c.style.bottom="0%",c.style.left="0%",c.style.right="0%",c.style.position="absolute",c.style.width="100%",c.style.height="100%",b._p.videoTag=c,b._p.videoContainer.innerHTML="",b._p.videoContainer.appendChild(c),b._p.videoTag.addEventListener("loadedmetadata",function(){this.play()}),this.loadVideo=function(a){this._p.src=a,this._p.videoTag.stop(),this._p.videoTag.src=this._p.src,this._p.videoTag.load()},this.unlock=function(){this._p.videoTag.src=Zenterac.server+"/media/void.ogv",this._p.videoTag.load(),this._p.videoTag.play()},this.clear=function(){this._p.src="",this._p.videoTag.stop()},this.__defineSetter__("oncanplay",function(a){this._p.videoTag.addEventListener("play",a)}),this.__defineSetter__("ondurationchange",function(){}),this.__defineSetter__("ontimeupdate",function(a){this._p.videoTag.addEventListener("framecallback",a)}),this.__defineSetter__("onended",function(a){this._p.videoTag.addEventListener("ended",a)}),this.__defineSetter__("currentTime",function(){}),this.play=function(){this._p.videoTag.paused&&this._p.videoTag.play()},this.pause=function(){this._p.videoTag.pause()},this.__defineSetter__("volume",function(a){this._p.videoTag.volume=a,this._p.videoTag.muted=.5>a?!0:!1})},Zenterac.TechPlayerHLS=function(a){Zenterac.TechPlayer.call(this,a),this.techname="HLS",this.loadVideo=function(a){this._p.src=a,this._p.videoTag.src=this._p.src,this._p.videoTag.play()}},Zenterac.TechPlayerDash=function(a){Zenterac.TechPlayer.call(this,a),this.techname="DASH";var b=Zenterac.TechPlayerDash.context;b||(b=new Dash.di.DashContext,Zenterac.TechPlayerDash.context=b),this._p.tPlayer=new MediaPlayer(b),this._p.tPlayer.startup(),this.loadVideo=function(a){this._p.src=a,this._p.tPlayer.reset(),this._p.tPlayer.attachView(this._p.videoTag),this._p.tPlayer.attachSource(this._p.src),this._p.videoTag.play()},this.clear=function(){this._p.src="",this._p.tPlayer.reset(),this._p.tPlayer.attachSource("")}},Zenterac.TechPlayerDash.context=null,"ogv"===ZUtils.Browser.GetBestTech()){var url=Zenterac.server+"/lib/ogv/ogv.js",scriptNode=document.createElement("script");scriptNode.src=url;var currentScript=document.currentScript||document.head.lastChild;currentScript.parentNode.insertBefore(scriptNode,currentScript.nextSibling)}Zenterac.VideoGroup=function(){this.list=[],this.size=function(){return this.list.length},this.add=function(a){(a instanceof Zenterac.Video||a instanceof Zenterac.VideoGroup)&&this.list.push(a)},this.getName=function(){for(var a="",b=0;b<this.list.length;b++){var c=this.list[b];c instanceof Zenterac.VideoGroup&&(a+="[",a+=c.getName(),a+="],"),c instanceof Zenterac.Video&&(a+=c.getName(),a+=",")}return a.substring(0,a.length-1)},this.find=function(a,b){for(var c=b||!1,d=0;d<this.list.length;d++){var e=this.list[d];if((a instanceof Zenterac.Video||a instanceof Zenterac.VideoGroup)&&a.getName()===e.getName())return d;if("string"==typeof a&&e instanceof Zenterac.Video&&(a===e.id||a===e.getName()))return d;if(c&&e instanceof Zenterac.VideoGroup&&e.find(a)>=0)return d}return-1},this.contains=function(a){return a instanceof Zenterac.Video||"string"==typeof a?this.find(a,!0)>=0:void 0},this.at=function(a){return this.list[a]},this.getPlaylist=function(a){if("object"==typeof a){for(var b=Zenterac.Playlist(a),c=0;c<this.list.length;c++)this.list[c]instanceof Zenterac.Video&&b.add(this.list[c]);return b}return null};for(var a=0;a<arguments.length;a++)this.add(arguments[a])},Zenterac.VideoInfo=function(){this.id=null,this.start=0,this.duration=0,this.end=1e8,this.type="video",this.html=null,this.name=null,this.playMode=Zenterac.PlayMode.NONE,this.timeCodes=[],this.setTimeCodes=function(a){if(this.timeCodes=[],this.id){for(var b=0;b<a.length;b++){var c=a[b];c.vid&&c.vid!==this.id&&c.vid!==this.name||this.timeCodes.push(c)}this.timeCodes.sort(function(a,b){return a.time<b.time?-1:a.time>b.time?1:0})}}},Zenterac.PlayerState={NONE:0,LOADING:1,READY:2,SWITCHING:3,WAITING:4},Zenterac.VideoPlayer=function(a){if(!a||"DIV"!==a.tagName)throw"Invalid parameter for creating a new VideoPlayer";var b=[],c=[],d={},e={},f=[],g=[],h={},i={},j=null,k=null,l=null,m=-1,n=0,o=null,p=null,q=null,r=null,s=null,t=null,u=null,v=null,w=null,x=!1,y=!1,z=!1,A=null,B=!1,C=0,D=!ZUtils.Browser.IsMobile(),E=null,F=null;this.session=null,this.user="default",this.htmlDiv=a,this.UI=null,this.state=Zenterac.PlayerState.NONE,this.paused=!0,this.currentTime=0,this.duration=0,this.autoplay=!0,this.volume=1,this.width=0,this.height=0,this.__defineSetter__("controls",function(a){this.UI.showHide("controls",a)}),this.__defineGetter__("controls",function(){return!this.UI.isHidden()}),this.favoriteQuality=Zenterac.VideoQuality.AUTO,this.fallbackVideo=null,this.fallbackElement=null,this.maxSegments=ZUtils.Browser.IsMobile()?2:5,this.usePreloading=ZUtils.Browser.IsMobile()?!1:!0,this.useMultiSegment=ZUtils.Browser.IsIOS()||"safari"===ZUtils.Browser.Get()?!1:!0,this.switchOffset=.1,this.seenPercent=.3,this.isFullScreen=!1,this.useCustomServer=!1,this.engine=null;var G=new ZUtils.Event("init"),H=new ZUtils.Event("start"),I=new ZUtils.Event("restart"),J=new ZUtils.Event("ready"),K=new ZUtils.Event("timeupdate"),L=new ZUtils.Event("switch"),M=new ZUtils.Event("next"),N=new ZUtils.Event("end"),O=this,P=function(){var a=null,b=0;if(f.length>0)for(;b<f.length&&!a;){var c=f[b].videoInfo;c&&c.name===l||(a=f[b],f.splice(b,1),f.push(a)),b++}return a},Q=function(a){if(a)for(var b=0;b<f.length;b++)f[b]===a&&f.splice(b,1)},R=function(a){a&&f.push(a)},S=function(a){if(a)for(var b=0;b<f.length;b++){var c=f[b].videoInfo;if(c&&c.name===a){var d=f[b];return d}}return null},T=function(){j.stop(),j.videoInfo=null;for(var a=0;a<f.length;a++)f[a].stop(),f[a].videoInfo=null;d={},e={},l=null},U=function(){ZUtils.Browser.IsAPISupported()?X():ZUtils.Browser.IsHTML5Supported()?W():V()},V=function(){var a=document.createElement("div");if(a.className="zen_notsupported",O.fallbackElement&&"object"==typeof O.fallbackElement)a.appendChild(O.fallbackElement);else{var b=document.createElement("div");b.className="zen_notsupported_text",b.innerHTML="HTML5 video not supported",a.appendChild(b)}for(;O.htmlDiv.firstChild;)O.htmlDiv.removeChild(O.htmlDiv.firstChild);O.htmlDiv.appendChild(a)},W=function(){o=document.createElement("div"),o.className="zen_canvas";var a=document.createElement("video");a.className="zen_video",a.controls=!0,a.style.width="100%",O.useCustomServer?(O.engine=new Zenterac.ClientEngine(O),O.UI.hide("quality")):O.engine=new Zenterac.ServerEngine(O);var b=O.fallbackVideo||"";for(a.src=O.engine.GetFallbackUrl(b),o.appendChild(a);O.htmlDiv.firstChild;)O.htmlDiv.removeChild(O.htmlDiv.firstChild);O.htmlDiv.appendChild(o)},X=function(){o=document.createElement("div"),o.className="zen_canvas";var a=document.createElement("div");a.className="zen_frame",p=document.createElement("div"),p.className="zen_video_zone",q=document.createElement("div"),q.className="zen_html_zone",q.style.display="none",t=document.createElement("div"),t.className="zen_overlay",t.style.display="none",r=document.createElement("div"),r.className="zen_logo",r.innerHTML="<div class='zen_logo_img'></div>",r.style.display="none",r.onclick=function(){O.restart()},u=document.createElement("div"),u.className="zen_unlock",u.onclick=function(){O.unlock()},u.style.display="none",u.innerHTML="<div class='zen_play_button'></div>",v=document.createElement("div"),v.className="zen_unlock",v.onclick=function(){O.play()},v.style.display="none",v.innerHTML="<div class='zen_play_button'></div>",w=document.createElement("div"),w.className="zen_warning",w.title="Warning: Your browser does not support modern video streaming technologies (Media Source Extensions or HTTP Live Streaming), streaming may be slower and some features may not work correctly!",w.innerHTML="<a target='_blank' href='http://www.youtube.com/html5'><div class='zen_warning_img'></div></a>",s=document.createElement("div"),s.className="zen_loading",s.innerHTML='<div class="zen_spinner"><div class="zen_spinner_container zen_spinner_container1"><div class="zen_spinner_circle1"></div><div class="zen_spinner_circle2"></div><div class="zen_spinner_circle3"></div><div class="zen_spinner_circle4"></div></div><div class="zen_spinner_container zen_spinner_container2"><div class="zen_spinner_circle1"></div><div class="zen_spinner_circle2"></div><div class="zen_spinner_circle3"></div><div class="zen_spinner_circle4"></div></div><div class="zen_spinner_container zen_spinner_container3"><div class="zen_spinner_circle1"></div><div class="zen_spinner_circle2"></div><div class="zen_spinner_circle3"></div><div class="zen_spinner_circle4"></div></div></div>',ZUtils.Browser.IsMobile()&&!ZUtils.Browser.IsIPhone()&&(u.style.display="block",r.style.display="none",s.style.display="none"),ZUtils.Browser.IsIPhone()&&(O.favoriteQuality=144,O.UI.hide("quality"),r.style.display="block",s.style.display="block",setTimeout(function(){u.style.display="block",r.style.display="none",s.style.display="none"},4e3)),(ZUtils.Browser.IsIOS()||ZUtils.Browser.IsOGVJS())&&(O.useMultiSegment=!1),(O.UI.hideWarning||ZUtils.Browser.HasMSE("mp4")||ZUtils.Browser.HasHLS())&&(w.style.display="none");for(var b=[];O.htmlDiv.firstChild;)b.push(O.htmlDiv.firstChild),O.htmlDiv.removeChild(O.htmlDiv.firstChild);for(;b.length>0;)t.appendChild(b.shift());if(a.appendChild(p),a.appendChild(q),a.appendChild(r),a.appendChild(s),a.appendChild(t),a.appendChild(u),a.appendChild(v),a.appendChild(w),a.appendChild(O.UI.controls),o.appendChild(a),O.htmlDiv.appendChild(o),O.useMultiSegment){for(var c=0;c<O.maxSegments;c++){var d=new Zenterac.VideoSegment(O,p);ba(d),f.push(d)}j=new Zenterac.VideoSegment(O,p),ba(j)}else j=new Zenterac.VideoSegment(O,p),ba(j);O.useCustomServer?(O.engine=new Zenterac.ClientEngine(O),O.UI.hide("quality")):O.engine=new Zenterac.ServerEngine(O)},Y=!1,Z=function(){if(!O.session&&!Y){Y=!0;var a=null;try{var b=JSON.parse(localStorage.Zenterac_Session);b.user&&b.token&&b.host&&b.port&&(a=new Zenterac.Session(b.user,b.token,b.host))}catch(c){}var d=localStorage.Zenterac_Action,e=ZUtils.GetQuery("zen");localStorage.removeItem("Zenterac_Action"),!a||"reload"!==d&&"reload"!==e?O.engine.CreateSession(O.user,Zenterac.version,function(a,b){a?(Y=!1,$(a,!0)):(s.style.display="none",o.innerHTML='<div class="zen_error_msg">'+b+"</div>")}):O.engine.ReuseSession(a,function(a,b,c,d,e){a?(m=c-1,n=d,Y=!1,$(a,b)):(s.style.display="none",o.innerHTML='<div class="zen_error_msg">'+e+"</div>")})}},$=function(a,b){if(O.session=a,localStorage.Zenterac_Session=JSON.stringify(a),x=!0,O.state=Zenterac.PlayerState.LOADING,n=m+5,o.clientWidth<100||o.clientHeight<50)throw"Selected video div is too small or invisible! Did you forget to include zenterac.css?";oa(),F=setInterval(oa,3e4),b?(Zenterac.log("New Session: "+a.token),G.fire(),H.fire()):Zenterac.log("Re-use Session: "+a.token),Zenterac.Paypal.StartRetrieve()},_=function(){if(O.session&&y){if(x&&b.length>0){var a=b[0];x=!1,l=null,n=m+5,null===a?(Zenterac.log("Clear playlist"),O.engine.ClearPlaylist(function(a){aa(a)})):(a.addMode===Zenterac.AddMode.NEW&&(O.next(),m=-1),Zenterac.log("Upload playlist"),O.engine.UploadPlaylist(a,function(a){aa(a)}))}if(c.length>0){var d=c.shift();O.engine.PreprocessVideo(d)}}},aa=function(a){a&&b.shift(),x=!0,e={}},ba=function(a){a.onReady=function(){Zenterac.log("Can Play ("+a.videoInfo.name+") ??? ms"),O.useMultiSegment?ca():ka()},a.onTimeUpdate=function(){K.fire()},a.onEnd=function(){O.state===Zenterac.PlayerState.READY&&(O.state=Zenterac.PlayerState.SWITCHING,ZUtils.Browser.IsAPISupported()||setTimeout(ta,0))},a.onSeen=function(a){var b={seen:a};O.engine.UpdateClientInfo(b)}},ca=function(){O.state===Zenterac.PlayerState.LOADING&&(Zenterac.log("Start Playing!"),O.state=Zenterac.PlayerState.SWITCHING,O.paused=!O.autoplay&&!ZUtils.Browser.IsMobile(),J.fire())},da=function(a,b){var c=isNaN(a)?d:e;c[a]||(Zenterac.log("Load Info ("+a+")"),c[a]=new Zenterac.VideoInfo,O.engine.GetVideoInfo(a,function(d){d.name&&c[a]&&(c[a].id=d.id,c[a].start=d.start,c[a].duration=d.duration,c[a].name=d.name,c[a].type=d.type,c[a].html=d.html,c[a].url=d.url,c[a].rez=d.rez),b&&(n=d.listLength,l=d.name||null),ea(a)}))},ea=function(a){var b=isNaN(a)?d[a]:e[a];if(b&&b.name&&O.useMultiSegment){var c=b.name,f=b.type;if("html"===f)return void(h[c]=b);var g=j.videoInfo;if(g&&c===g.name)return;var i=S(c);

if(i)i.isEnded()&&(Zenterac.log("Re-init Segment ("+c+")"),i.reinit());else{if(Zenterac.log("Load Segment ("+c+")"),i=i||P(),!i)return void Zenterac.log("No segment available for preloading: "+c+", Consider increasing player.maxSegments");i.clear(),i.session=O.session,i.load(b)}}},fa=function(){if(y&&0===b.length){var a=m+1;n>a&&(da(a,!0),ea(a))}},ga=function(){if(B&&O.useMultiSegment){var a=S(l),b=j;if(l&&b.videoInfo.name===l)return;a&&a.isReady&&(Zenterac.log("Start sync ("+a.videoInfo.name+")"),a.sync(b,C),B=!1)}},ha=function(){if(n>m+1){var a=!1,b=S(l),c=k?k:j.videoInfo,d=c?c.id:null,e=d;if(l&&c&&!k&&l===c.name)B||(Zenterac.log("Restart ("+c.name+")"),j.restart()),j.unswitchVideo(),j.videoInfo.setTimeCodes(g),a=!0;else if(b&&b.isReady)Zenterac.log("PlayNext ("+b.videoInfo.name+")"),b.play(),j.stop(),Q(b),R(j),j=b,j.videoInfo.setTimeCodes(g),ma(),e=b.videoInfo.id,a=!0;else if(h[l]){var f=h[l];Zenterac.log("PlayNext html ("+f.name+")"),j.stop(),la(f),e=f.id,a=!0}if(a){O.state=Zenterac.PlayerState.READY,m++,l=null,B=!1,M.fire(e,d),L.fire(e,d);var i={cur:m};O.engine.UpdateClientInfo(i)}else O.state=Zenterac.PlayerState.SWITCHING,j.switchVideo(),O.UI.hideSwitchLoading||B||(s.style.display="block")}else Zenterac.log("End playlist"),j.stop(),O.state=Zenterac.PlayerState.WAITING,N.fire()},ia=null,ja=function(){var a=m+1;if(n>a){var c=e[a],d=j;ia=k?k:j.videoInfo,y&&c&&c.name&&!d.isLoading()&&0===b.length&&(B&&(A=d.currentTime+C,B=!1),ca(),"html"===c.type?(Zenterac.log("Switch html ("+c.name+")"),d.clear(),la(c),ka()):d.videoInfo&&c.name===d.videoInfo.name&&!ZUtils.Browser.IsOGVJS()?(d.restart(),ka()):(Zenterac.log("Switch ("+c.name+")"),d.clear(),d.session=O.session,d.load(c),s.style.display="block",ma()))}else Zenterac.log("End playlist"),O.state=Zenterac.PlayerState.WAITING,j.stop(),N.fire()},ka=function(){O.state=Zenterac.PlayerState.READY,m++,!k&&j.videoInfo&&(Zenterac.log("Play ("+j.videoInfo.name+")"),j.videoInfo.setTimeCodes(g),j.play());var a=k?k:j.videoInfo;M.fire(a.id,ia.id),L.fire(a.id,ia.id);var b={cur:m};O.engine.UpdateClientInfo(b)},la=function(a){k=a,q.innerHTML="",q.appendChild(a.html),q.style.display="block",p.style.display="none"},ma=function(){k=null,q.style.display="none",p.style.display="block"},na=function(){if(z&&(k&&(z=!1,T(),fa()),!k&&j.isCurrent())){var a=j.videoInfo.name,b=j.currentTime;z=!1,a&&(Zenterac.log("Refresh video ("+a+")"),O.state=Zenterac.PlayerState.SWITCHING,s.style.display="block",t.style.display="none",A=b,m-=1,T(),fa())}},oa=function(a){var b=o.clientHeight,c=o.clientWidth,d={cur:m,tech:ZUtils.Browser.GetBestTech(),mobile:ZUtils.Browser.IsMobile()?"1":"0",favQuality:O.favoriteQuality,vph:b,vpw:c};O.session&&O.engine.UpdateClientInfo(d,function(){y=!0,"function"==typeof a&&a()})},pa=function(){v.style.display="none",r.style.display=O.UI.hideLogo?"none":"block",s.style.display="block",Z(),_(),fa(),O.useMultiSegment||ja()},qa=function(){O.currentTime=j.currentTime,O.duration=j.videoInfo?j.videoInfo.end:0,v.style.display="none",r.style.display="none",_(),fa(),O.useMultiSegment?(ga(),ha()):ja()},ra=function(){O.currentTime=j.currentTime,O.duration=j.videoInfo?j.videoInfo.end:0,O.paused?(t.style.display="none",v.style.display="block",va()):(v.style.display="none",t.style.display=k?"none":"block"),s.style.display="none",r.style.display="none","number"==typeof A&&j.isCurrent()&&(j.currentTime=A,A=null);var a=j.videoInfo?j.videoInfo.start:0,b=j.videoInfo?j.videoInfo.duration:0,c=Math.max(O.duration-20,a+b/3);(O.currentTime>c||k)&&fa(),_(),na()},sa=function(){r.style.display=O.UI.hideLogo?"none":"block",t.style.display="none",s.style.display="none",q.style.display="none",p.style.display="block",_(),fa(),n>m+1?O.state=Zenterac.PlayerState.SWITCHING:va()},ta=function(){switch(O.state){case Zenterac.PlayerState.NONE:Z();break;case Zenterac.PlayerState.LOADING:pa();break;case Zenterac.PlayerState.SWITCHING:qa();break;case Zenterac.PlayerState.READY:ra();break;case Zenterac.PlayerState.WAITING:sa()}O.width=o.clientWidth,O.height=o.clientHeight,O.UI.isHidden()||O.UI.update(),j.update(O.paused,O.volume);for(var a=0;a<f.length;a++)f[a].update(O.paused,O.volume)},ua=function(){ZUtils.Browser.IsAPISupported()&&D&&!E&&(E=setInterval(ta,200),ta())},va=function(){E&&(clearInterval(E),E=null)};this.addPlaylist=function(a,c){var d=a;if(!O.session)throw"Playlist should be added after session initialisation, use the 'start' event";if(!ZUtils.IsEnum(c,Zenterac.AddMode))throw"Param #2 in VideoPlayer.addPlaylist() must be a Zenterac.AddMode";if((a instanceof Zenterac.Video||a instanceof Zenterac.HtmlZone||"string"==typeof a)&&(d=new Zenterac.Playlist(a)),!(d instanceof Zenterac.Playlist))throw"playlist is not a valid Playlist";c&&(d.addMode=c),b.push(d),ua()},this.clear=function(){b.push(null),ua()},this.play=function(a){if(arguments.length>1)throw"VideoPlayer.play() cannot have more than one argument (Playlist or Video)";a&&(this.addPlaylist(a,Zenterac.AddMode.REPLACE),this.next()),this.paused=!1,ua()},this.playSync=function(a,b){a&&(this.replace(a),this.nextSync(b),this.paused=!1,ua())},this.pause=function(){this.paused=!0},this.resume=function(){this.paused=!1,ua()},this.seek=function(a){A=a},this.next=function(){this.state===Zenterac.PlayerState.READY&&(this.state=Zenterac.PlayerState.SWITCHING,ua())},this.nextSync=function(a){this.state===Zenterac.PlayerState.READY&&(this.state=Zenterac.PlayerState.SWITCHING,B=!0,C=a||0,ua())},this.getCurrentVideo=function(){var a=j,b=new Zenterac.Video("null");return b.index=-1,k?(b=new Zenterac.HtmlZone(k.id,k.html),b.index=m):a.videoInfo&&a.videoInfo.name&&(b=Zenterac.Video.CreateFromName(a.videoInfo.name),b.index=m),b},this.restart=function(){O.state=Zenterac.PlayerState.LOADING,T(),H.fire(),I.fire()},this.refresh=function(){oa(function(){z=!0})},this.preload=function(a){if(!(a instanceof Zenterac.HtmlZone)){if(!(a instanceof Zenterac.Video))throw"First parameter of preload must be a video";this.usePreloading&&this.useMultiSegment&&(O.engine.PreloadVideo(a),da(a.getName()),ea(a.getName()))}},this.unload=function(a){if(!(a instanceof Zenterac.HtmlZone)){if(a&&!(a instanceof Zenterac.Video))throw"First parameter of preload must be a video";if(this.useMultiSegment)if(a){var b=S(a.getName());b&&b.clear()}else for(var c=0;c<f.length;c++)f[c].clear()}},this.preprocess=function(a){if(!(a instanceof Zenterac.HtmlZone)){if(!(a instanceof Zenterac.Video))throw"First parameter of preprocess must be a video";c.push(a)}},this.unlock=function(){if(!D){j.unlock();for(var a=0;a<f.length;a++)f[a].unlock();D=!0,u.style.display="none",ua()}},this.on=function(a,b){var c=ZUtils.Event.find(a);c&&c.addListener(b)},this.toggleFullScreen=function(){this.isFullScreen?this.regularScreen():this.fullScreen()};var wa=16/9;this.fullScreen=function(){ZUtils.Browser.GoFullScreen(o)},this.regularScreen=function(){ZUtils.Browser.ExitFullScreen()},ZUtils.Browser.FullScreenChange(function(a){if(O.isFullScreen=a,a){var b=window.screen.height,c=window.screen.width,d=30,e=c/wa-b+d;e=Math.min(e,d),e=Math.max(e,0),c>b*wa?c=b*wa:b=c/wa,o.style.width=c+"px",o.style.height=b+d-e+"px",O.UI.controls.style.top=b-e+"px"}else o.style.width="",o.style.height="",O.UI.controls.style.top="";O.UI.update(),setTimeout(oa,1e3)}),this.onTime=function(a,b,c){if("string"!=typeof a&&!(a instanceof Zenterac.Video))throw"param #1 must be a string";if("number"!=typeof b)throw"param #2 must be a number";if("function"!=typeof c)throw"param #3 must be a function";var d=a instanceof Zenterac.Video?a.getName():a,e={vid:d,time:b,callback:c};g.push(e)},this.addBookmark=function(a,b){if(a&&"string"!=typeof a)throw"param #1 must be a string";if("function"!=typeof b)throw"param #2 must be a function";var c=a||"";i[c]=b},this.runBookmark=function(a){if(a&&"string"!=typeof a)throw"param #1 must be a string";var b=a||"",c=i[b],d=i[""];c?c():d&&d()},this.insert=function(a){if(arguments.length>1)throw"VideoPlayer.insert() cannot have more than one argument (Playlist or Video)";this.addPlaylist(a,Zenterac.AddMode.INSERT)},this.insertNow=function(a){if(arguments.length>1)throw"VideoPlayer.insertNow() cannot have more than one argument (Playlist or Video)";this.addPlaylist(a,Zenterac.AddMode.INSERT),this.next()},this.replace=function(a){if(arguments.length>1)throw"VideoPlayer.replace() cannot have more than one argument (Playlist or Video)";this.addPlaylist(a,Zenterac.AddMode.REPLACE)},this.replaceNow=function(a){if(arguments.length>1)throw"VideoPlayer.replaceNow() cannot have more than one argument (Playlist or Video)";this.addPlaylist(a,Zenterac.AddMode.REPLACE),this.next()},this.append=function(a){if(arguments.length>1)throw"VideoPlayer.append() cannot have more than one argument (Playlist or Video)";this.addPlaylist(a,Zenterac.AddMode.APPEND)},this.runAnchorBookmark=function(){O.runBookmark(ZUtils.GetAnchor())};var xa=ZUtils.Browser.GetOS(),ya=ZUtils.Browser.Get(),za=ZUtils.Browser.GetBestTech(),Aa=ZUtils.Browser.HasMSE(),Ba=ZUtils.Browser.HasFlash(),Ca=ZUtils.Browser.HasHLS();Zenterac.log("OS: "+xa+" | Browser: "+ya+" | Tech: "+za),Zenterac.log("Techs supported:  | Dash: "+Aa+" | HLS: "+Ca+" | Flash: "+Ba),O.UI=new Zenterac.Controls(O),ZUtils.Browser.IsMobile()&&ZUtils.Browser.VisiblityChange(function(a){a&&O.pause()}),setTimeout(function(){U(),ua()},0)},Zenterac.VideoState={NONE:0,LOADING:1,INITING:2,WAITING:3,SYNCING:4,CURRENT:5,SWITCHING:6,ENDED:7},Zenterac.SYNC_MAX_TRY=5,Zenterac.SYNC_MAX_MARGIN=.04,Zenterac.VideoSegment=function(a,b){this._p={},this._p.techPlayer=null,this._p.player=a;var c=[.1,.1,.1,.1,.1,.1],d=ZUtils.Browser.IsMobile()?-1:0,e=0,f=null,g=0;this.session=null,this.state=Zenterac.VideoState.NONE,this.volume=0,this.videoInfo=null,this.isSeen=!1,this.isReady=!1,this.timeSet=!1;var h=this;this.clear=function(){this.session=null,this.volume=0,this.state=Zenterac.VideoState.NONE,this.videoInfo=null,this.isSeen=!1,this.isReady=!1,this.timeSet=!1,this._p.techPlayer.clear(),this._p.techPlayer.hide()},this.restart=function(){this.isReady&&(this.state=Zenterac.VideoState.CURRENT,this._p.techPlayer.currentTime=this.videoInfo.start)},this.play=function(){this.state=Zenterac.VideoState.CURRENT,setTimeout(function(){h.update()},0)},this.stop=function(){this.state=Zenterac.VideoState.ENDED,setTimeout(function(){h.update()},0)},this.reinit=function(){this.isReady&&(this.state=Zenterac.VideoState.INITING,this.isReady=!1,this.timeSet=!1,this._p.techPlayer.play())},this.switchVideo=function(){this.state===Zenterac.VideoState.CURRENT&&(this.state=Zenterac.VideoState.SWITCHING)},this.unswitchVideo=function(){this.state===Zenterac.VideoState.SWITCHING&&(this.state=Zenterac.VideoState.CURRENT)},this.load=function(b){this.videoInfo=b,this.state=Zenterac.VideoState.LOADING;var c=a.engine.GetVideoUrl(this.videoInfo,this._p.techPlayer.techname);this._p.techPlayer.loadVideo(c)},this.isCurrent=function(){return this.state===Zenterac.VideoState.CURRENT},this.isLoading=function(){return this.state===Zenterac.VideoState.LOADING||this.state===Zenterac.VideoState.INITING},this.isEnded=function(){return this.state===Zenterac.VideoState.ENDED},this.unlock=function(){this._p.techPlayer.unlock()},this.sync=function(a,b){a&&a!==this&&(this.state=Zenterac.VideoState.SYNCING,this.isReady=!1,this._p.techPlayer.play(),e=0,f=a,g=b||0)},this.update=function(a,b){if(a=a||!1,"number"==typeof b&&(this.volume=b),this.state===Zenterac.VideoState.CURRENT){if(!a&&this._p.techPlayer.paused&&this._p.techPlayer.play(),a&&!this._p.techPlayer.paused&&this._p.techPlayer.pause(),this._p.techPlayer.hidden()&&this._p.techPlayer.show(),this._p.techPlayer.volume!==this.volume&&(this._p.techPlayer.volume=this.volume),this.videoInfo.timeCodes.length>0){var c=this.videoInfo.timeCodes[0];this._p.techPlayer.currentTime>c.time&&(this.videoInfo.timeCodes.shift(),c.callback(this.videoInfo.id,c.time))}var d=this.videoInfo.start+this.videoInfo.duration*this._p.player.seenPercent;!this.isSeen&&this._p.techPlayer.currentTime>d&&(this.isSeen=!0,this.onSeen(this.videoInfo.id))}this.state===Zenterac.VideoState.ENDED&&(!this._p.techPlayer.paused||!this._p.techPlayer.hidden()||this._p.techPlayer.volume>0)&&(this._p.techPlayer.pause(),this._p.techPlayer.hide(),this.isReady&&this._p.player.useMultiSegment&&(this._p.techPlayer.volume=0,this._p.techPlayer.currentTime=this.videoInfo?this.videoInfo.start:0))},this.onReady=function(){},this.onTimeUpdate=function(){},this.onEnd=function(){},this.onSeen=function(){},this.onPlaying=function(){},this.onWaiting=function(){},this.__defineGetter__("currentTime",function(){return this._p.techPlayer.currentTime}),this.__defineGetter__("duration",function(){return this._p.techPlayer.duration}),this.__defineSetter__("currentTime",function(a){this._p.techPlayer.currentTime=a}),this._p.techPlayer=new Zenterac.TechPlayer.Create(b);var i=this._p.techPlayer,j=function(){h.videoInfo&&(ZUtils.Browser.IsOGVJS()&&(h.videoInfo.start=0),h.videoInfo.end=h.videoInfo.duration+h.videoInfo.start,h.videoInfo.duration<.01&&(h.videoInfo.end=h._p.techPlayer.duration-h._p.player.switchOffset))};i.oncanplay=function(){h.state===Zenterac.VideoState.LOADING&&(Zenterac.log("Init segment ("+h.videoInfo.name+")"),h.state=Zenterac.VideoState.INITING,h._p.techPlayer.play(),h.timeSet=!1,h._p.player.useMultiSegment&&(h._p.techPlayer.volume=0))},i.ondurationchange=function(){j()},i.ontimeupdate=function(){if(h.state===Zenterac.VideoState.INITING){if((ZUtils.Browser.IsIOS()||ZUtils.Browser.IsOGVJS())&&j(),ZUtils.Browser.IsOGVJS())return h.state=Zenterac.VideoState.WAITING,h.isReady=!0,h._p.techPlayer.pause(),void h.onReady();!this.timeSet&&h.videoInfo.start>.5&&h._p.techPlayer.currentTime<h.videoInfo.start-.5?(!ZUtils.Browser.IsMobile()||h._p.techPlayer.currentTime>1)&&(h._p.techPlayer.currentTime=h.videoInfo.start-.5,this.timeSet=!0):(0===h.videoInfo.start||h._p.techPlayer.currentTime>=h.videoInfo.start)&&(!ZUtils.Browser.IsMobile()||h._p.techPlayer.currentTime>.1)&&(h.state=Zenterac.VideoState.WAITING,h.isReady=!0,h._p.techPlayer.pause(),h.onReady())}if(h.state===Zenterac.VideoState.SYNCING){for(var a=f.currentTime-h.currentTime+g,b=0,k=0;k<c.length;k++)b+=c[k]/c.length;if(e>1&&(c.unshift(a),c.slice(0,10)),Math.abs(a)<Zenterac.SYNC_MAX_MARGIN||e>=Zenterac.SYNC_MAX_TRY)h.state=Zenterac.VideoState.WAITING,h.isReady=!0,Zenterac.log("Sync result: "+f.id+": "+f.currentTime+" | "+h.videoInfo.id+": "+h.currentTime+" | Tries: "+e);else{var l=a+b+d,m=h._p.techPlayer.currentTime+l;m=Math.min(m,h.videoInfo.end),m=Math.max(m,h.videoInfo.start),h._p.techPlayer.currentTime=m,e++}h.videoInfo.end>.1&&h.currentTime>h.videoInfo.end&&(h.state=Zenterac.VideoState.WAITING,h.isReady=!0)}h.state===Zenterac.VideoState.CURRENT&&(h.onTimeUpdate(),h.videoInfo.end-i.currentTime<.2&&(h.state=Zenterac.VideoState.ENDED,h.onEnd())),h.state===Zenterac.VideoState.SWITCHING&&h.onTimeUpdate()},i.onended=function(){h.state===Zenterac.VideoState.CURRENT&&(h.state=Zenterac.VideoState.ENDED,h.onEnd())},i.onplaying=function(){h.state===Zenterac.VideoState.CURRENT&&h.onPlaying()},i.onwaiting=function(){h.state===Zenterac.VideoState.CURRENT&&h.onWaiting()}},Zenterac.Controls=function(a){var b=document.createElement("div");b.className="zen_ctrl_control",b.style.display="block",b.style.height="0",b.innerHTML='<div class="zen_ctrl_topControl"><div class="zen_ctrl_progress"><span class="zen_ctrl_bufferBar"></span><span class="zen_ctrl_timeBar"></span></div><div class="zen_ctrl_time"><span class="zen_ctrl_current"></span> / <span class="zen_ctrl_duration"></span></div></div>';var c=document.createElement("div");c.className="zen_ctrl_btmControl",c.style.display="none",b.appendChild(c);var d=document.createElement("div");d.className="zen_ctrl_btnPlay zen_ctrl_btn",d.title="Play/Pause video",c.appendChild(d);var e=document.createElement("div");e.className="zen_ctrl_btnRestart zen_ctrl_btn",e.title="Restart playlist",e.style.display="block",c.appendChild(e);var f=document.createElement("div");f.className="zen_ctrl_btnNext zen_ctrl_btn",f.title="Next video",f.style.display="none",c.appendChild(f);var g=document.createElement("div");g.className="zen_ctrl_seek",g.title="Set time",g.style.display="none",c.appendChild(g);var h=document.createElement("span");h.className="zen_ctrl_seekBar",g.appendChild(h);var i=document.createElement("div");i.className="zen_ctrl_btnFS zen_ctrl_btn",i.title="Toggle Fullscreen",i.style.display="block",c.appendChild(i);var j=document.createElement("select");j.className="zen_ctrl_quality",j.title="Select video quality",j.innerHTML="",c.appendChild(j);var k=document.createElement("div");k.className="zen_ctrl_volume",k.title="Set volume",c.appendChild(k);var l=document.createElement("span");l.className="zen_ctrl_volumeBar",k.appendChild(l);var m=document.createElement("div");m.className="zen_ctrl_sound zen_ctrl_sound2 zen_ctrl_btn",m.title="Mute/Unmute sound",c.appendChild(m),a.on("ready",function(){b.style.height="30px",c.style.display="block"});var n=function(){a.paused?a.play():a.pause(),y()};d.onclick=function(){n()},this.spaceEvent=function(a){return 32===a.keyCode&&"block"===b.style.display?(n(),a.preventDefault(),!1):void 0},document.addEventListener("keypress",this.spaceEvent),e.onclick=function(){a.restart()},f.onclick=function(){a.next()},i.onclick=function(){a.toggleFullScreen()};var o=!1;k.onmousedown=function(a){o=!0,m.className=m.className.replace(/(?:^|\s)zen_ctrl_muted(?!\S)/g,""),w(a.pageX)},k.onmouseup=function(a){o&&(o=!1,w(a.pageX))},k.onmousemove=function(a){o&&w(a.pageX)},k.onmouseleave=function(){o=!1};var p=0;m.onclick=function(){m.className.match(/(?:^|\s)zen_ctrl_muted(?!\S)/)?w(0,p):(p=a.volume,w(0,0))};var q=!1;g.onmousedown=function(){q=!0},g.onmouseup=function(a){q&&(q=!1,x(a.pageX))},g.onmouseleave=function(){q=!1};for(var r in Zenterac.VideoQuality){var s=document.createElement("option");s.value=Zenterac.VideoQuality[r],s.text=Zenterac.VideoQuality[r]>0?Zenterac.VideoQuality[r]+"p":"Auto",j.add(s)}var t=!1;j.onchange=function(){t||(a.favoriteQuality=j.value,a.refresh())};var u,v=function(a){var b=a,c=0,d=0;if(document.getElementById||document.all){do for(d+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent,b=b.parentNode;b!==a;)d-=b.scrollLeft,c-=b.scrollTop,b=b.parentNode;while(a.offsetParent)}else document.layers&&(c+=a.y,d+=a.x);return{top:c,left:d}},w=function(b,c){var d;if(c||0===c)d=100*c;else{var e=b-v(k).left;d=100*e/k.clientWidth}d=Math.min(d,100),d=Math.max(d,0),u=d/100,a.volume=d/100,z()},x=function(b){var c=b-v(g).left,d=100*c/g.clientWidth;d=Math.min(d,100),d=Math.max(d,0),a.seek(a.duration*d/100),A()},y=function(){a.paused?d.className=d.className.replace(/(?:^|\s)zen_ctrl_paused(?!\S)/g,""):-1===d.className.indexOf("zen_ctrl_paused")&&(d.className+=" zen_ctrl_paused")},z=function(){var b=100*u;l.style.width=b+"%";var c=m.className;0===u?(c=c.replace(/(?:^|\s)zen_ctrl_muted(?!\S)/g,""),c=c.replace(/(?:^|\s)zen_ctrl_sound2(?!\S)/g,""),c+=" zen_ctrl_muted"):u>.5?(c=c.replace(/(?:^|\s)zen_ctrl_muted(?!\S)/g,""),c=c.replace(/(?:^|\s)zen_ctrl_sound2(?!\S)/g,""),c+=" zen_ctrl_sound2"):(c=c.replace(/(?:^|\s)zen_ctrl_muted(?!\S)/g,""),c=c.replace(/(?:^|\s)zen_ctrl_sound2(?!\S)/g,"")),c!==m.className&&(m.className=c),k.style.display=a.width>480?"block":"none"},A=function(){if(a.duration>0){var b=100*a.currentTime/a.duration;h.style.width=b+"%"}else h.style.width="0%";a.width>850?g.style.width="60%":a.width>700?g.style.width="50%":a.width>600?g.style.width="40%":a.width>500?g.style.width="30%":a.width>400&&(g.style.width="20%")},B=function(){if(j.value!==a.favoriteQuality&&(t=!0,j.value=a.favoriteQuality,t=!1),ZUtils.Browser.IsFullScreenSupported()){var b=i.className;b=a.isFullScreen?b.replace("zen_ctrl_btnFS","zen_ctrl_btnRS"):b.replace("zen_ctrl_btnRS","zen_ctrl_btnFS"),b!==i.className&&(i.className=b)}else"block"===i.style.display&&(i.style.display="none")};this.hideSwitchLoading=!1,this.hideWarning=!0,this.hideLogo=!1,this.__defineSetter__("overlay",function(a){b.style.bottom=a?"0px":""}),this.__defineGetter__("overlay",function(){return"0px"===b.style.bottom}),this.update=function(){y(),z(),A(),B()},this.show=function(a){switch(a){case"play":d.style.display="block";break;case"restart":e.style.display="block";break;case"next":f.style.display="block";break;case"seek":g.style.display="block";break;case"quality":j.style.display="block";break;case"fullscreen":i.style.display="block";break;case"controls":b.style.display="block";break;case"loading":this.hideSwitchLoading=!1;break;case"warning":this.hideWarning=!1;break;case"logo":this.hideLogo=!1}},this.hide=function(a){switch(a){case"play":d.style.display="none";break;case"restart":e.style.display="none";break;case"next":f.style.display="none";break;case"seek":g.style.display="none";break;case"quality":j.style.display="none";break;case"fullscreen":i.style.display="none";break;case"controls":b.style.display="none";break;case"loading":this.hideSwitchLoading=!0;break;case"warning":this.hideWarning=!0;break;case"logo":this.hideLogo=!0}},this.showHide=function(a,b){b?this.show(a):this.hide(a)},this.isHidden=function(){return"block"!==b.style.display},this.controls=b,w(0,a.volume)},Zenterac.Paypal=function(a,b,c){if(!a||"string"!=typeof a)throw"Must provide merchant email or ID";if(!b||"string"!=typeof a)throw"Must provide product name";if(!(c&&c instanceof Zenterac.Session))throw"Must provide a session: Zenterac.Session";this.token=null,this.merchant=a,this.product=b,this.session=c,this.sandbox=!1,this.type=null,this.quantity=1,this.amount=1,this.currency="USD",this.shipping=0,this.tax=0,this.completed=!1,this.submit=function(){var a="https:"===window.location.protocol?"https":"http",b={};b.type=this.type,b.business=this.merchant,b.item_name=this.product,b.currency_code=this.currency,b.quantity=this.quantity,b.amount=this.amount,b.shipping=this.shipping,b.tax=this.tax,b.custom=this.session.token+":"+this.uid,b.returnUrl=a+":"+this.session.getLink()+"/paypal/?a=return&s="+this.session.token,b.cancelUrl=a+":"+this.session.getLink()+"/paypal/?a=cancel&s="+this.session.token,b.sandbox=this.sandbox;var c="https://www.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=";this.sandbox&&(c="https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token="),ZUtils.Browser.IsMobile()?(b.returnUrl+="&r="+encodeURI(window.location.href),b.cancelUrl+="&r="+encodeURI(window.location.href)):(b.returnUrl+="&r="+encodeURI(this.session.getLink()+"/paypal/?a=close"),b.cancelUrl+="&r="+encodeURI(this.session.getLink()+"/paypal/?a=close"));var d=this,e=JSON.stringify(b);ZUtils.AjaxPost(d.session.getLink()+"/paypal/?a=express-checkout&s="+d.session.token,e,function(a,b){if(200!==b)throw"Paypal module only available for premium users, please visit http://zenterac.com";var e=JSON.parse(a);if(d.token=e.TOKEN,d.token)if(ZUtils.Browser.IsMobile())localStorage["Zenterac_Paypal_"+d.product]=JSON.stringify(d),localStorage.Zenterac_Action="reload",window.location.href=c+d.token;else{var f=window.screen.availWidth,g=window.screen.availHeight,h="left="+f/6+",top="+g/6+",height="+2*g/3+",width="+2*f/3,i=window.open(c+d.token,d.product,h);i.focus(),Zenterac.Paypal.WaitForPopup(i,d)}})},this.validate=function(a){var b=this;ZUtils.Ajax(this.session.getLink()+"/paypal/?a=validate&token="+this.token+"&s="+this.session.token,function(c){var d=JSON.parse(c);d.success?(b.completed=!0,a(b,!0)):a(b,!1)})}},Zenterac.Paypal.RetrieveList=[],Zenterac.Paypal.CompletedList=[],Zenterac.Paypal.Retrieve=function(a,b){var c=null,d=function(a){var b=new Zenterac.Session(a.session.user,a.session.token,a.session.host),c=new Zenterac.Paypal(a.merchant,a.product,b);return c.type=a.type,c.token=a.token,c.sandbox=a.token,c.quantity=a.token,c.amount=a.token,c.currency=a.token,c.shipping=a.token,c.tax=a.token,c};Zenterac.Paypal.RetrieveList.push({name:a,callback:b});try{var e=JSON.parse(localStorage["Zenterac_Paypal_"+a]);e.token&&e.merchant&&e.session&&(c=d(e))}catch(f){}c&&c.validate(function(c,d){localStorage.removeItem("Zenterac_Paypal_"+a),Zenterac.Paypal.CompletedList.push({obj:c,success:d,callback:b})})},Zenterac.Paypal.StartRetrieve=function(){for(var a=0;a<Zenterac.Paypal.CompletedList.length;a++){var b=Zenterac.Paypal.CompletedList[a];b.callback(b.obj,b.success)}Zenterac.Paypal.CompletedList=[]},Zenterac.Paypal.ValidAndStart=function(a){a.validate(function(a,b){for(var c=0;c<Zenterac.Paypal.RetrieveList.length;c++){var d=Zenterac.Paypal.RetrieveList[c];d.name===a.product&&d.callback(a,b)}})},Zenterac.Paypal.WaitForPopup=function(a,b){var c=setInterval(function(){a.closed&&(clearInterval(c),Zenterac.Paypal.ValidAndStart(b))},500)},Zenterac.ZAPI={},Zenterac.ZAPI.publicKey="-----BEGIN PUBLIC KEY-----MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCLAKub6LfN69BcLUyojuf32xAIfeXmXMMLPVxBQ3JrDI6raEHD31SJWSM6Om8SyIDETi/mIGIt4xJy7URfWT02C1OUMChr1gbf9UCZLu9BD8TnMBu83Ogy8O9kEA6vu1NwDWuceCIA+oaIoerWRNaWUYuSp/u9Lqwh3jgWLu7QZwIDAQAB-----END PUBLIC KEY-----",Zenterac.ZAPI.nonce=function(){for(var a="",b=16,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;b>d;d++)a+=c.charAt(Math.floor(Math.random()*c.length));return a},Zenterac.ZAPI.createToken=function(a,b,c,d){return Zenterac.ZAPI.Sha256(a+b+c+d)},Zenterac.ZAPI.authRequest=function(a,b,c,d,e,f){var g="";for(var h in b)g+="&"+h+"="+b[h];g=g.replace("&","?");var i=f,j=e;"function"==typeof e&&(i=e,j=null),g.match(/(&|\?)u=[^&]+(&|$)/)||(g+=(g.match(/^\?/)?"&u=":"?u=")+c);var k=a+"?a=nonce&u="+c,l=a.split(/[^:^\/]\//)[1]||"";Zenterac.ZAPI.ajax(k,function(a,b){if(200===b){var e=a.split("\n"),f=e[0],h=e[1],k=Zenterac.ZAPI.nonce(),m=Zenterac.ZAPI.Sha256(d),n=Zenterac.ZAPI.createToken(c,f,k,m),o="//"+h+"/"+l+g;o+="&c="+k+"&t="+n,Zenterac.ZAPI.ajax(o,function(a,b){200===b?i(a,b,h):i(a,b)},j)}else i(a,b)})},Zenterac.ZAPI.encrypt=function(a){var b=new Zenterac.ZAPI.JSEncrypt;return b.setPublicKey(Zenterac.ZAPI.publicKey),b.encrypt(a)},Zenterac.ZAPI.ajax=function(a,b,c){new ZUtils.microAjax(a,b,c)},Zenterac.ZAPI.nbScript=0,Zenterac.ZAPI.loadScript=function(a,b){Zenterac.ZAPI.nbScript++;var c=new XMLHttpRequest;c.open("GET",b,!0),c.onreadystatechange=function(){var d=c.response||c.responseText;if(4===c.readyState){switch(c.status){case 200:eval.apply(Zenterac.ZAPI,[d.replace("module.exports",a)]),Zenterac.log("Script loaded: ",b);break;default:Zenterac.log("ERROR: script not loaded: ",b)}Zenterac.ZAPI.nbScript--,0===Zenterac.ZAPI.nbScript&&Zenterac.ZAPI.onReady()}},c.send()},Zenterac.ZAPI.onReady=function(){},Zenterac.ZAPI.init=function(a){Zenterac.ZAPI.loadScript("Zenterac.ZAPI.Sha256",Zenterac.server+"/lib/sha256.js"),Zenterac.ZAPI.loadScript("Zenterac.ZAPI.JSEncrypt",Zenterac.server+"/lib/jsencrypt.js"),"function"==typeof a&&(Zenterac.ZAPI.onReady=a)};